WEBVTT
Kind: subtitles
Language: zh-TW

00:00.000 --> 00:02.700
Multiple components match node with tag name.

00:02.700 --> 00:06.900
當你遇到本錯誤時，意味著有兩個或更多元件使用了相同的元素名

00:07.000 --> 00:10.400
同一個 ngModule 中的所有元件，其元素選擇器

00:10.400 --> 00:13.800
必須是唯一的。因為如果有名字衝突，Angular 就沒辦法

00:13.800 --> 00:16.800
知道應該在範本中渲染哪一個元件

00:16.900 --> 00:21.100
我們來看一個簡單的錯誤重現，並且在程式碼中快速修復它

00:21.100 --> 00:25.600
我們有一個選擇器為 mat-icon 的圖示元件

00:25.600 --> 00:28.600
該元件在 AppComponent 的範本中使用此選擇器宣告過了

00:28.600 --> 00:32.200
但是當我們試圖執行此應用時卻出錯了

00:32.300 --> 00:36.200
因為多個元件都能匹配標籤名為 mat-icon 的節點

00:36.200 --> 00:39.000
高階點的 IDE 能夠捕獲本錯誤

00:39.000 --> 00:42.100
注意，當我們懸浮在紅色下劃線上方時，我們得到了反饋

00:42.100 --> 00:45.100
說是多於一個元件匹配此元素

00:45.200 --> 00:48.500
另外，它還會告訴我們具體是哪些類發生了衝突

00:48.700 --> 00:51.600
在這裡是 mat-icon 和 IconComponent

00:51.800 --> 00:55.100
另外，我們可以在瀏覽器控制檯中的錯誤開始除錯

00:55.100 --> 00:57.800
在錯誤堆疊中找到該範本的連結

00:57.800 --> 01:00.000
以確定程式碼中的哪一行導致了這個問題

01:00.100 --> 01:03.600
然後，我們還要找出哪兩個元件共享了同一個選擇器

01:03.600 --> 01:07.500
第一種技巧是嘗試使用 VS Code 的全域搜尋功能

01:07.500 --> 01:10.900
使用 Control Shift F 來調出搜尋欄，並且查詢

01:10.900 --> 01:13.200
使用了此選擇器名的任意檔案

01:13.300 --> 01:15.800
如果你的程式碼中有兩個衝突的元件

01:15.800 --> 01:17.300
只要把其中一個改名就可以了

01:17.300 --> 01:21.200
不過，在這個例子中，我們只找到了一個，這意味著

01:21.200 --> 01:23.900
此衝突是第三方庫導致的

01:23.900 --> 01:28.300
因為你無法控制第三方庫中的元件名

01:28.300 --> 01:31.400
所以你唯一的選擇是把你的本地元件改名

01:31.400 --> 01:35.800
注意，當我們把 mat-icon 改為 app-icon 時，錯誤消失了

01:36.000 --> 01:38.700
你可以遵循一些最佳實踐

01:38.700 --> 01:40.600
來避免發生此類錯誤

01:40.600 --> 01:42.700
選擇器應該遵循特定的格式

01:42.700 --> 01:45.900
也就是中線格式。雖然你可以用單個單詞作為選擇器

01:45.900 --> 01:51.300
但一般來說最好還是使用一組固定的字元作為字首

01:51.400 --> 01:55.300
當你使用 Angular CLI 時，它會使用 app 作為你元件的字首

01:55.400 --> 01:58.300
預設情況下，這種規約便於區分

01:58.300 --> 02:01.700
你自己程式碼中的本地元件和那些來自

02:05.100 --> 02:08.500
另一個有幫助的最佳實踐是把每個元件放在一個檔案中

02:08.700 --> 02:12.000
當你在每個檔案中都有一個元件時，檔名通常與

02:12.100 --> 02:15.200
選擇器名稱一一對應，這樣你程式碼中的兩個元件就

02:15.200 --> 02:18.700
很難共享同一個選擇器名

02:18.900 --> 02:20.300
我們來回顧一下

02:20.300 --> 02:23.700
當你遇到 the multiple components match node with tag name 錯誤時

02:23.700 --> 02:26.500
說明在兩個或多個元件中存在著名字衝突

02:26.500 --> 02:29.200
這通常需要你在一個本地元件中修改

02:29.200 --> 02:31.600
此選擇器名稱

02:31.800 --> 02:34.900
確保遵循一些最佳實踐，來消除此類錯誤

02:34.900 --> 02:39.300
欲知詳情，請參閱 Angular 官方文件中的風格指南
