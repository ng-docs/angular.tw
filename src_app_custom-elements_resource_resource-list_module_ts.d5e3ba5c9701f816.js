"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([["src_app_custom-elements_resource_resource-list_module_ts"],{4994:(k,u,c)=>{c.r(u),c.d(u,{ResourceListModule:()=>S});var a=c(6477),e=c(6839),g=c(9989),m=c(7367),f=c(635),C=c(6403),v=c(3765);const h=C.bL+"resources.json";let l=(()=>{class o{constructor(t){this.http=t,this.categories=this.getCategories()}getCategories(){const t=this.http.get(h).pipe((0,f.U)(n=>function b(o){return Object.keys(o).map(r=>{const t=o[r];return{id:i(r),title:r,order:t.order,subCategories:y(t.subCategories,r)}}).sort(d)}(n))),s=(0,g.b)(t,{connector:()=>new m.c,resetOnDisconnect:!1});return s.connect(),s}}return o.ɵfac=function(t){return new(t||o)(e.LFG(v.eN))},o.ɵprov=e.Yz7({token:o,factory:o.ɵfac}),o})();function y(o,r){return Object.keys(o).map(t=>{const s=o[t];return{id:i(t),title:t,order:s.order,resources:L(s.resources,t,r)}}).sort(d)}function L(o,r,t){return Object.keys(o).map(s=>{const n=o[s];return n.category=t,n.subCategory=r,n.id=i(s),n}).sort(p)}function d(o,r){return o.order===r.order?p(o,r):o.order>r.order?1:-1}function p(o,r){return o.title.toUpperCase()>r.title.toUpperCase()?1:-1}function i(o){return o.toLowerCase().replace(/\s+/g,"-")}var Z=c(5370);function O(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){const T=e.CHM(t).$implicit,A=e.oxw();return e.KtG(A.selectCategory(T.id))}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit,s=e.oxw();e.ekj("selected",t.id==s.selectedCategory.id),e.xp6(1),e.Oqu(t.title)}}function R(o,r){if(1&o&&(e.TgZ(0,"div")(1,"div",7)(2,"a",8)(3,"h3",9),e._uU(4),e.qZA(),e.TgZ(5,"h3",10),e._uU(6),e.qZA(),e.TgZ(7,"p",11),e._uU(8),e.qZA(),e.TgZ(9,"p",12),e._uU(10),e.qZA()()()()),2&o){const t=r.$implicit;e.xp6(2),e.Q6J("href",t.url,e.LSH),e.xp6(2),e.Oqu(t.titleCn||t.title),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.descCn||t.desc||"無描述"),e.xp6(2),e.Oqu(t.desc||"No Description")}}function x(o,r){if(1&o&&(e.TgZ(0,"div")(1,"h2",6),e._uU(2),e.qZA(),e.YNc(3,R,11,5,"div",4),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.s9C("id",t.id),e.xp6(1),e.Oqu(t.title),e.xp6(1),e.Q6J("ngForOf",t.resources)}}let F=(()=>{class o{constructor(t,s){this.resourceService=t,this.locationService=s}ngOnInit(){const t=this.locationService.search().category||"";this.resourceService.categories.subscribe(s=>{this.categories=s,this.selectCategory(t)})}selectCategory(t){t=t.toLowerCase(),this.selectedCategory=this.categories.find(s=>s.id.toLowerCase()===t)||this.categories[0],this.locationService.setSearch("",{category:this.selectedCategory.id})}}return o.ɵfac=function(t){return new(t||o)(e.Y36(l),e.Y36(Z.a))},o.ɵcmp=e.Xpm({type:o,selectors:[["aio-resource-list"]],decls:5,vars:2,consts:[[1,"center-layout"],[1,"flex-center","group-buttons"],["class","button mat-button filter-button",3,"selected","click",4,"ngFor","ngForOf"],[1,"showcase"],[4,"ngFor","ngForOf"],[1,"button","mat-button","filter-button",3,"click"],[1,"subcategory-title",3,"id"],[1,"resource-item"],["rel","noopener","target","_blank",1,"resource-row-link",3,"href"],["translation-result","on",1,"resource-name"],["translation-origin","off",1,"resource-name"],["translation-result","on",1,"resource-description"],["translation-origin","off",1,"resource-description"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,O,2,3,"button",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,x,4,3,"div",4),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",s.categories),e.xp6(2),e.Q6J("ngForOf",null==s.selectedCategory?null:s.selectedCategory.subCategories))},dependencies:[a.sg],encapsulation:2}),o})(),S=(()=>{class o{constructor(){this.customElementComponent=F}}return o.ɵfac=function(t){return new(t||o)},o.ɵmod=e.oAB({type:o}),o.ɵinj=e.cJS({providers:[l],imports:[a.ez]}),o})()}}]);
//# sourceMappingURL=src_app_custom-elements_resource_resource-list_module_ts.d5e3ba5c9701f816.js.map
