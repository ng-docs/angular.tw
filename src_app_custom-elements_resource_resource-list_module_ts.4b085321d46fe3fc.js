"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([["src_app_custom-elements_resource_resource-list_module_ts"],{4994:(A,u,c)=>{c.r(u),c.d(u,{ResourceListModule:()=>F});var a=c(6362),e=c(3184),d=c(635),m=c(4),C=c(5733),f=c(8784);const h=C.bL+"resources.json";let l=(()=>{class o{constructor(t){this.http=t,this.categories=this.getCategories()}getCategories(){const t=this.http.get(h).pipe((0,d.U)(s=>function(o){return Object.keys(o).map(r=>{const t=o[r];return{id:n(r),title:r,order:t.order,subCategories:Z(t.subCategories,r)}}).sort(g)}(s)),(0,m.C)());return t.connect(),t}}return o.ɵfac=function(t){return new(t||o)(e.LFG(f.eN))},o.ɵprov=e.Yz7({token:o,factory:o.ɵfac}),o})();function Z(o,r){return Object.keys(o).map(t=>{const s=o[t];return{id:n(t),title:t,order:s.order,resources:L(s.resources,t,r)}}).sort(g)}function L(o,r,t){return Object.keys(o).map(s=>{const i=o[s];return i.category=t,i.subCategory=r,i.id=n(s),i}).sort(p)}function g(o,r){return o.order===r.order?p(o,r):o.order>r.order?1:-1}function p(o,r){return o.title.toUpperCase()>r.title.toUpperCase()?1:-1}function n(o){return o.toLowerCase().replace(/\s+/g,"-")}var T=c(5370);function b(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){const O=e.CHM(t).$implicit;return e.oxw().selectCategory(O.id)}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit,s=e.oxw();e.ekj("selected",t.id==s.selectedCategory.id),e.xp6(1),e.Oqu(t.title)}}function y(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"div",7),e.TgZ(2,"a",8),e.TgZ(3,"h4",9),e._uU(4),e.qZA(),e.TgZ(5,"h4",10),e._uU(6),e.qZA(),e.TgZ(7,"p",11),e._uU(8),e.qZA(),e.TgZ(9,"p",12),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.xp6(2),e.Q6J("href",t.url,e.LSH),e.xp6(2),e.Oqu(t.titleCn||t.title),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.descCn||t.desc||"無描述"),e.xp6(2),e.Oqu(t.desc||"No Description")}}function x(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"h3",6),e._uU(2),e.qZA(),e.YNc(3,y,11,5,"div",4),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.s9C("id",t.id),e.xp6(1),e.Oqu(t.title),e.xp6(1),e.Q6J("ngForOf",t.resources)}}let R=(()=>{class o{constructor(t,s){this.resourceService=t,this.locationService=s}ngOnInit(){const t=this.locationService.search().category||"";this.resourceService.categories.subscribe(s=>{this.categories=s,this.selectCategory(t)})}selectCategory(t){t=t.toLowerCase(),this.selectedCategory=this.categories.find(s=>s.id.toLowerCase()===t)||this.categories[0],this.locationService.setSearch("",{category:this.selectedCategory.id})}}return o.ɵfac=function(t){return new(t||o)(e.Y36(l),e.Y36(T.a))},o.ɵcmp=e.Xpm({type:o,selectors:[["aio-resource-list"]],decls:5,vars:2,consts:[[1,"center-layout"],[1,"flex-center","group-buttons"],["class","button mat-button filter-button",3,"selected","click",4,"ngFor","ngForOf"],[1,"showcase"],[4,"ngFor","ngForOf"],[1,"button","mat-button","filter-button",3,"click"],[1,"subcategory-title",3,"id"],[1,"resource-item"],["rel","noopener","target","_blank",1,"resource-row-link",3,"href"],["translation-result","on"],["translation-origin","off"],["translation-result","on",1,"resource-description"],["translation-origin","off",1,"resource-description"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,b,2,3,"button",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,x,4,3,"div",4),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",s.categories),e.xp6(2),e.Q6J("ngForOf",null==s.selectedCategory?null:s.selectedCategory.subCategories))},directives:[a.sg],encapsulation:2}),o})(),F=(()=>{class o{constructor(){this.customElementComponent=R}}return o.ɵfac=function(t){return new(t||o)},o.ɵmod=e.oAB({type:o}),o.ɵinj=e.cJS({providers:[l],imports:[[a.ez]]}),o})()}}]);
//# sourceMappingURL=src_app_custom-elements_resource_resource-list_module_ts.4b085321d46fe3fc.js.map
