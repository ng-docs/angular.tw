{"id":"errors/NG0503","title":"NG0503: During serialization, Angular detected DOM nodes that were created outside of Angular's context and used for content projection.\n\n在序列化期間，Angular 檢測了 DOM 節點，這些節點是在 Angular 上下文之外建立的，並被用來做內容投影。","contents":"<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/errors/NG0503.md?message=docs(...)%3A%20請簡述你的修改...\" aria-label=\"提供編輯建議\" title=\"提供編輯建議\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n<div class=\"content\">\n\n  <h1 id=\"ng0503-during-serialization-angular-detected-dom-nodes-that-were-created-outside-of-angulars-context-and-used-for-content-projection在序列化期間angular-檢測了-dom-節點這些節點是在-angular-上下文之外建立的並被用來做內容投影\">NG0503: During serialization, Angular detected DOM nodes that were created outside of Angular's context and used for content projection.\n\n在序列化期間，Angular 檢測了 DOM 節點，這些節點是在 Angular 上下文之外建立的，並被用來做內容投影。<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0503#ng0503-during-serialization-angular-detected-dom-nodes-that-were-created-outside-of-angulars-context-and-used-for-content-projection在序列化期間angular-檢測了-dom-節點這些節點是在-angular-上下文之外建立的並被用來做內容投影\"><i class=\"material-icons\">link</i></a></h1>\n\n  \n  \n\n  <div class=\"error-description\">\n    <h2 translation-result=\"on\" id=\"說明\">說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0503#說明\"><i class=\"material-icons\">link</i></a></h2>\n    <h2 translation-origin=\"off\" id=\"description\">Description<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0503#description\"><i class=\"material-icons\">link</i></a></h2>\n    <p translation-result=\"on\">這個錯誤意味著在伺服器端序列化過程中，Angular 遇到了在 Angular 上下文之外建立的節點（即使用原生 DOM API 建立的），平行處理現這些節點是作為可投影節點提供的。它們可能是使用 <code>ViewContainerRef.createComponent</code> 或 <code><a href=\"api/core/createComponent\" class=\"code-anchor\">createComponent</a></code> API 提供的。Angular 水合不支援這種用法。</p><p translation-origin=\"off\">This error means that during the server side serialization process, Angular encountered nodes that were created outside of Angular's context (i.e. using native DOM APIs) and found those nodes were provided as projectible nodes. They were likely provided using <code>ViewContainerRef.createComponent</code> or <code><a href=\"api/core/createComponent\" class=\"code-anchor\">createComponent</a></code> APIs. Angular hydration does not support this use case.</p>\n\n<p translation-result=\"on\">有關水合的更多資訊，請參閱<a href=\"guide/hydration\">本指南</a>。</p><p translation-origin=\"off\">More information about hydration can be found in <a href=\"guide/hydration\">this guide</a>.</p>\n\n<p translation-result=\"on\">以下範例將觸發錯誤。</p><p translation-origin=\"off\">The following examples will trigger the error.</p>\n\n<code-example language=\"typescript\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'dynamic',\n  template: `\n  &lt;ng-content /&gt;\n`,\n})\nclass DynamicComponent {\n}\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app',\n  template: `&lt;div #target&gt;&lt;/div&gt;`,\n})\nclass SimpleComponent {\n  @<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>('target', {read: <a href=\"api/core/ViewContainerRef\" class=\"code-anchor\">ViewContainerRef</a>}) vcr!: <a href=\"api/core/ViewContainerRef\" class=\"code-anchor\">ViewContainerRef</a>;\n  envInjector = inject(<a href=\"api/core/EnvironmentInjector\" class=\"code-anchor\">EnvironmentInjector</a>);\n\n  ngAfterViewInit() {\n    const div = document.createElement('div');\n    const p = document.createElement('p');\n    // In this test we create DOM nodes outside of Angular context\n    // (i.e. not using Angular APIs) and try to content-project them.\n    // This is an unsupported <a href=\"api/forms/PatternValidator\" class=\"code-anchor\">pattern</a> and an exception will be thrown.\n    const compRef = <a href=\"api/core/createComponent\" class=\"code-anchor\">createComponent</a>(DynamicComponent, {\n      environmentInjector: this.envInjector,\n      projectableNodes: [[div, p]]\n    });\n  }\n}\n</code-example>\n\n  </div>\n\n\n  \n  <br>\n\n  <div class=\"debugging\">\n    <h2 translation-result=\"on\" id=\"如何排除本錯誤\">如何排除本錯誤<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0503#如何排除本錯誤\"><i class=\"material-icons\">link</i></a></h2>\n    <h2 translation-origin=\"off\" id=\"debugging-the-error\">Debugging the error<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0503#debugging-the-error\"><i class=\"material-icons\">link</i></a></h2>\n    <p translation-result=\"on\">開發人員控制檯中的錯誤訊息應包含有關導致問題的應用程式 DOM 結構的特定部分的資訊。檢查應用程式的那部分是否存在與水合相關的錯誤，例如使用原生 API 的直接 DOM 操作。</p><p translation-origin=\"off\">The error message in the developer console should contain information on a specific part of the application's DOM structure that is causing the problem. Review that part of the application for hydration-related errors, such as direct DOM manipulation using native APIs.</p>\n\n<p translation-result=\"on\">可能的解決方案之一是，你可以將 <code>ngSkipHydration</code> 屬性新增到你的元件宿主節點。</p><p translation-origin=\"off\">You can add the <code>ngSkipHydration</code> attribute to your component host node as a possible workaround.</p>\n\n\n  </div>\n  \n</div>\n\n<!-- links to this doc:\n - errors\n-->\n<!-- links from this doc:\n - api/core/Component\n - api/core/EnvironmentInjector\n - api/core/ViewChild\n - api/core/ViewContainerRef\n - api/core/createComponent\n - api/forms/PatternValidator\n - errors/NG0503#debugging-the-error\n - errors/NG0503#description\n - errors/NG0503#ng0503-during-serialization-angular-detected-dom-nodes-that-were-created-outside-of-angulars-context-and-used-for-content-projection在序列化期間angular-檢測了-dom-節點這些節點是在-angular-上下文之外建立的並被用來做內容投影\n - errors/NG0503#如何排除本錯誤\n - errors/NG0503#說明\n - guide/hydration\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/errors/NG0503.md?message=docs(...)%3A%20請簡述你的修改...\n-->"}