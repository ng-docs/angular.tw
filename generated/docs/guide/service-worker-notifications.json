{"id":"guide/service-worker-notifications","title":"Service worker notifications","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/service-worker-notifications.md?message=docs%3A%20請簡述你的修改...\" aria-label=\"提供編輯建議\" title=\"提供編輯建議\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"service-worker-notifications\" translation-result=\"on\">Service Worker 通知<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#service-worker-notifications\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">Service worker notifications<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#service-worker-notifications\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">推送通知是吸參考戶的一種引人注目的方式。透過 Service Worker 的強大功能，即使你的應用程式不在焦點上，也可以將通知傳送到裝置。</p><p translation-origin=\"off\">Push notifications are a compelling way to engage users.\nThrough the power of service workers, notifications can be delivered to a device even when your application is not in focus.</p>\n\n<p translation-result=\"on\">Angular Service Worker 支援顯示推送通知和處理通知點選事件。</p><p translation-origin=\"off\">The Angular service worker enables the display of push notifications and the handling of notification click events.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">使用 Angular Service Worker 時，推送通知互動是使用 <code><a href=\"api/service-worker/SwPush\" class=\"code-anchor\">SwPush</a></code> 服務處理的。要了解有關所涉及的瀏覽器 API 的更多資訊，請參閱<a href=\"https://developer.mozilla.org/docs/Web/API/Push_API\">推送 API</a>和<a href=\"https://developer.mozilla.org/docs/Web/API/Notifications_API/Using_the_Notifications_API\">使用通知 API</a>。</p><p translation-origin=\"off\">When using the Angular service worker, push notification interactions are handled using the <code><a href=\"api/service-worker/SwPush\" class=\"code-anchor\">SwPush</a></code> service.\nTo learn more about the browser APIs involved see <a href=\"https://developer.mozilla.org/docs/Web/API/Push_API\">Push API</a> and <a href=\"https://developer.mozilla.org/docs/Web/API/Notifications_API/Using_the_Notifications_API\">Using the Notifications API</a>.</p>\n\n</div>\n<h2 id=\"prerequisites\" translation-result=\"on\">前提條件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#prerequisites\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">我們建議你對以下內容有基本的瞭解：</p><p translation-origin=\"off\">We recommend you have a basic understanding of the following:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/service-worker-getting-started\">Service Worker 快速上手</a>。</p><p translation-origin=\"off\"><a href=\"guide/service-worker-getting-started\">Getting Started with Service Workers</a></p>\n\n</li>\n</ul>\n<h2 id=\"notification-payload\" translation-result=\"on\">通知負載<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#notification-payload\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Notification payload<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#notification-payload\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">透過推送具有有效負載的訊息來呼叫推送通知。請參閱 <code><a href=\"api/service-worker/SwPush\" class=\"code-anchor\">SwPush</a></code> 以獲得指導。</p><p translation-origin=\"off\">Invoke push notifications by pushing a message with a valid payload.\nSee <code><a href=\"api/service-worker/SwPush\" class=\"code-anchor\">SwPush</a></code> for guidance.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">在 Chrome 中，你可以在沒有後端的情況下測試推送通知。開啟 Devtools -&gt; Application -&gt; Service Workers 並使用 <code>Push</code> 輸入傳送 JSON 通知負載。</p><p translation-origin=\"off\">In Chrome, you can test push notifications without a backend.\nOpen Devtools -&gt; Application -&gt; Service Workers and use the <code>Push</code> input to send a JSON notification payload.</p>\n\n</div>\n<h2 id=\"notification-click-handling\" translation-result=\"on\">通知點選處理<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#notification-click-handling\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Notification click handling<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#notification-click-handling\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\"><code>notificationclick</code> 點選事件的預設行為是關閉通知並通知 <code><a href=\"api/service-worker/SwPush#notificationClicks\" class=\"code-anchor\">SwPush.notificationClicks</a></code>。</p><p translation-origin=\"off\">The default behavior for the <code>notificationclick</code> event is to close the notification and notify <code><a href=\"api/service-worker/SwPush#notificationClicks\" class=\"code-anchor\">SwPush.notificationClicks</a></code>.</p>\n\n<p translation-result=\"on\">你可以透過向 <code>data</code> 物件新增 <code>onActionClick</code> 屬性並提供 <code>default</code> 條目來指定要在 <code>notificationclick</code> 上執行的附加操作。當單擊通知時沒有開啟的客戶端時，這尤其有用。</p><p translation-origin=\"off\">You can specify an additional operation to be executed on <code>notificationclick</code> by adding an <code>onActionClick</code> property to the <code>data</code> object, and providing a <code>default</code> entry.\nThis is especially useful for when there are no open clients when a notification is clicked.</p>\n\n<code-example format=\"json\" language=\"json\">\n\n{\n  \"notification\": {\n    \"title\": \"New Notification!\",\n    \"data\": {\n      \"onActionClick\": {\n        \"default\": {\"operation\": \"openWindow\", \"url\": \"foo\"}\n      }\n    }\n  }\n}\n\n</code-example>\n<h3 id=\"operations\" translation-result=\"on\">操作<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#operations\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Operations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#operations\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">Angular Service Worker 支援以下操作：</p><p translation-origin=\"off\">The Angular service worker supports the following operations:</p>\n\n<table>\n<thead>\n<tr>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">操作</nt-wrapper><nt-wrapper translation-origin=\"off\">Operations</nt-wrapper></th>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">詳情</nt-wrapper><nt-wrapper translation-origin=\"off\">Details</nt-wrapper></th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code>openWindow</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">在指定的 URL 處開啟新選項卡。</nt-wrapper><nt-wrapper translation-origin=\"off\">Opens a new tab at the specified URL.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>focusLastFocusedOrOpen</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">聚焦最後一個有焦點的客戶端。如果沒有開啟客戶端，則會在指定的 URL 處開啟一個新選項卡。</nt-wrapper><nt-wrapper translation-origin=\"off\">Focuses the last focused client. If there is no client open, then it opens a new tab at the specified URL.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>navigateLastFocusedOrOpen</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">聚焦最後一個有焦點的客戶端並將其導航到指定的 URL。如果沒有開啟客戶端，則會在指定的 URL 處開啟一個新選項卡。</nt-wrapper><nt-wrapper translation-origin=\"off\">Focuses the last focused client and navigates it to the specified URL. If there is no client open, then it opens a new tab at the specified URL.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>sendRequest</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">向指定的 URL 傳送簡單的 GET 請求。</nt-wrapper><nt-wrapper translation-origin=\"off\">Send a simple GET request to the specified URL.</nt-wrapper></td>\n</tr>\n\n</tbody>\n</table>\n<div class=\"alert is-important\">\n<p translation-result=\"on\">這些 URL 會被解析為相對於此 Service Worker 的註冊範圍的。<br>\n如果 <code>onActionClick</code> 項未定義 <code>url</code>，則使用 Service Worker 的註冊範圍。</p><p translation-origin=\"off\">URLs are resolved relative to the service worker's registration scope.<br>\nIf an <code>onActionClick</code> item does not define a <code>url</code>, then the service worker's registration scope is used.</p>\n\n</div>\n<h3 id=\"actions\" translation-result=\"on\">行動<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#actions\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Actions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#actions\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">操作提供了一種自訂使用者如何與通知互動的方法。</p><p translation-origin=\"off\">Actions offer a way to customize how the user can interact with a notification.</p>\n\n<p translation-result=\"on\">使用 <code>actions</code> 屬性，你可以定義一組可用的操作。每個動作都表示為一個動作按鈕，使用者可以單擊該按鈕與通知進行互動。</p><p translation-origin=\"off\">Using the <code>actions</code> property, you can define a set of available actions.\nEach action is represented as an action button that the user can click to interact with the notification.</p>\n\n<p translation-result=\"on\">此外，使用 <code>data</code> 物件上的 <code>onActionClick</code> 屬性，你可以將每個操作與單擊相應操作按鈕時要執行的操作聯絡起來：</p><p translation-origin=\"off\">In addition, using the <code>onActionClick</code> property on the <code>data</code> object, you can tie each action to an operation to be performed when the corresponding action button is clicked:</p>\n\n<code-example format=\"typescript\" language=\"typescript\">\n\n{\n  \"notification\": {\n    \"title\": \"New Notification!\",\n    \"actions\": [\n      {\"action\": \"foo\", \"title\": \"Open new tab\"},\n      {\"action\": \"bar\", \"title\": \"Focus last\"},\n      {\"action\": \"baz\", \"title\": \"Navigate last\"},\n      {\"action\": \"qux\", \"title\": \"Send request in the background\"}\n      {\"action\": \"other\", \"title\": \"Just notify existing clients\"}\n    ],\n    \"data\": {\n      \"onActionClick\": {\n        \"default\": {\"operation\": \"openWindow\"},\n        \"foo\": {\"operation\": \"openWindow\", \"url\": \"/absolute/path\"},\n        \"bar\": {\"operation\": \"focusLastFocusedOrOpen\", \"url\": \"relative/path\"},\n        \"baz\": {\"operation\": \"navigateLastFocusedOrOpen\", \"url\": \"https://other.domain.com/\"},\n        \"qux\": {\"operation\": \"sendRequest\", \"url\": \"https://yet.another.domain.com/\"}\n      }\n    }\n  }\n}\n\n</code-example>\n<div class=\"alert is-important\">\n<p translation-result=\"on\">如果操作沒有相應的 <code>onActionClick</code> 條目，則通知將關閉並在現有客戶端上通知 <code><a href=\"api/service-worker/SwPush#notificationClicks\" class=\"code-anchor\">SwPush.notificationClicks</a></code>。</p><p translation-origin=\"off\">If an action does not have a corresponding <code>onActionClick</code> entry, then the notification is closed and <code><a href=\"api/service-worker/SwPush#notificationClicks\" class=\"code-anchor\">SwPush.notificationClicks</a></code> is notified on existing clients.</p>\n\n</div>\n<h2 id=\"more-on-angular-service-workers\" translation-result=\"on\">關於 Angular Service Worker 的更多資訊<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#more-on-angular-service-workers\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">More on Angular service workers<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/service-worker-notifications#more-on-angular-service-workers\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">你可能還對下列內容感興趣：</p><p translation-origin=\"off\">You might also be interested in the following:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/service-worker-devops\">生產環境下的 Service Worker</a>。</p><p translation-origin=\"off\"><a href=\"guide/service-worker-devops\">Service Worker in Production</a></p>\n\n</li>\n</ul>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最後複查時間：2/28/2022</div>\n</div>\n\n\n<!-- links to this doc:\n - api/service-worker/SwPush\n - guide/service-worker-communications\n - guide/service-worker-intro\n-->\n<!-- links from this doc:\n - api/service-worker/SwPush\n - api/service-worker/SwPush#notificationClicks\n - guide/service-worker-devops\n - guide/service-worker-getting-started\n - guide/service-worker-notifications#actions\n - guide/service-worker-notifications#more-on-angular-service-workers\n - guide/service-worker-notifications#notification-click-handling\n - guide/service-worker-notifications#notification-payload\n - guide/service-worker-notifications#operations\n - guide/service-worker-notifications#prerequisites\n - guide/service-worker-notifications#service-worker-notifications\n - guide/service-worker-notifications#service-worker-通知\n - guide/service-worker-notifications#關於-angular-service-worker-的更多資訊\n - guide/service-worker-notifications#前提條件\n - guide/service-worker-notifications#操作\n - guide/service-worker-notifications#行動\n - guide/service-worker-notifications#通知點選處理\n - guide/service-worker-notifications#通知負載\n - https://developer.mozilla.org/docs/Web/API/Notifications_API/Using_the_Notifications_API\n - https://developer.mozilla.org/docs/Web/API/Push_API\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/service-worker-notifications.md?message=docs%3A%20請簡述你的修改...\n-->"}