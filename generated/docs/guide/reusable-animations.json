{"id":"guide/reusable-animations","title":"Reusable animations","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/reusable-animations.md?message=docs%3A%20請簡述你的修改...\" aria-label=\"提供編輯建議\" title=\"提供編輯建議\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"reusable-animations\" translation-result=\"on\">可複用動畫<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#reusable-animations\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">Reusable animations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#reusable-animations\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">本主題提供了一些關於如何建立可複用動畫的例子。</p><p translation-origin=\"off\">This topic provides some examples of how to create reusable animations.</p>\n\n<h2 id=\"prerequisites\" translation-result=\"on\">前提條件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#prerequisites\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">在繼續本主題前，你需要熟悉下列知識：</p><p translation-origin=\"off\">Before continuing with this topic, you should be familiar with the following:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/animations\">Angular 動畫簡介</a></p><p translation-origin=\"off\"><a href=\"guide/animations\">Introduction to Angular animations</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/transition-and-triggers\">過渡與觸發器</a></p><p translation-origin=\"off\"><a href=\"guide/transition-and-triggers\">Transition and triggers</a></p>\n\n</li>\n</ul>\n<h2 id=\"create-reusable-animations\" translation-result=\"on\">建立可複用動畫<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#create-reusable-animations\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Create reusable animations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#create-reusable-animations\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要想建立可複用的動畫，請使用 <a href=\"api/animations/animation\"><code>animation()</code></a> 方法來在獨立的 <code>.ts</code> 檔案中定義動畫，並把該動畫的定義宣告為一個匯出的 <code>const</code> 變數。然後你就可以在應用的元件程式碼中透過 <a href=\"api/animations/useAnimation\"><code>useAnimation()</code></a> 來匯入並複用它了。</p><p translation-origin=\"off\">To create a reusable animation, use the <a href=\"api/animations/animation\"><code>animation()</code></a> function to define an animation in a separate <code>.ts</code> file and declare this animation definition as a <code>const</code> export variable.\nYou can then import and reuse this animation in any of your application components using the <a href=\"api/animations/useAnimation\"><code>useAnimation()</code></a> function.</p>\n\n<code-example header=\"src/app/animations.ts\" path=\"animations/src/app/animations.1.ts\" region=\"animation-const\">\nimport { <a href=\"api/animations/animation\" class=\"code-anchor\">animation</a>, <a href=\"api/animations/style\" class=\"code-anchor\">style</a>, <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>, <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>, <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>, <a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a> } from '@angular/animations';\n\nexport const transitionAnimation = <a href=\"api/animations/animation\" class=\"code-anchor\">animation</a>([\n  <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({\n    height: '{{ height }}',\n    opacity: '{{ opacity }}',\n    backgroundColor: '{{ backgroundColor }}'\n  }),\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>('{{ time }}')\n]);\n\n</code-example>\n<p translation-result=\"on\">在上面的程式碼片段中，透過把 <code>transitionAnimation</code> 宣告為一個匯出的變數，就讓它變成了可複用的。</p><p translation-origin=\"off\">In the preceding code snippet, <code>transitionAnimation</code> is made reusable by declaring it as an export variable.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\"><strong>注意</strong>：<br>\n<code>height</code>、<code>opacity</code>、<code>backgroundColor</code> 和 <code>time</code> 這幾個輸入項會在執行期間被替換掉。</p><p translation-origin=\"off\"><strong>NOTE</strong>: <br>\nThe <code>height</code>, <code>opacity</code>, <code>backgroundColor</code>, and <code>time</code> inputs are replaced during runtime.</p>\n\n</div>\n<p translation-result=\"on\">你還可以匯出某個動畫的一部分。比如，下列程式碼片段會匯出 <code><a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a></code> 這個動畫。</p><p translation-origin=\"off\">You can also export a part of an animation.\nFor example, the following snippet exports the animation <code><a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a></code>.</p>\n\n<code-example header=\"src/app/animations.1.ts\" path=\"animations/src/app/animations.1.ts\" region=\"trigger-const\">\nimport { <a href=\"api/animations/animation\" class=\"code-anchor\">animation</a>, <a href=\"api/animations/style\" class=\"code-anchor\">style</a>, <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>, <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>, <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>, <a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a> } from '@angular/animations';\nexport const triggerAnimation = <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>('openClose', [\n  <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>('open =&gt; closed', [\n    <a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a>(transitionAnimation, {\n      params: {\n        height: 0,\n        opacity: 1,\n        backgroundColor: 'red',\n        time: '1s'\n      }\n    })\n  ])\n]);\n\n</code-example>\n<p translation-result=\"on\">從現在起，你可以在元件類中匯入這些可複用動畫變數。比如下面的程式碼片段就匯入了 <code>transitionAnimation</code> 變數，並透過 <code><a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a>()</code> 函式來複用它。</p><p translation-origin=\"off\">From this point, you can import reusable animation variables in your component class.\nFor example, the following code snippet imports the <code>transitionAnimation</code> variable and uses it via the <code><a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a>()</code> function.</p>\n\n<code-example header=\"src/app/open-close.component.ts\" path=\"animations/src/app/open-close.component.3.ts\" region=\"reusable\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>, <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>, <a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a> } from '@angular/animations';\nimport { transitionAnimation } from './animations';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-open-close-reusable',\n  animations: [\n    <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>('openClose', [\n      <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>('open =&gt; closed', [\n        <a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a>(transitionAnimation, {\n          params: {\n            height: 0,\n            opacity: 1,\n            backgroundColor: 'red',\n            time: '1s'\n          }\n        })\n      ])\n    ])\n  ],\n  templateUrl: 'open-close.component.html',\n  styleUrls: ['open-close.component.css']\n})\n\n</code-example>\n<h2 id=\"more-on-angular-animations\" translation-result=\"on\">關於 Angular 動畫的更多知識<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#more-on-angular-animations\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">More on Angular animations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#more-on-angular-animations\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">你可能還對下列內容感興趣：</p><p translation-origin=\"off\">You might also be interested in the following:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/animations\">Angular 動畫簡介</a></p><p translation-origin=\"off\"><a href=\"guide/animations\">Introduction to Angular animations</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/transition-and-triggers\">過渡與觸發器</a></p><p translation-origin=\"off\"><a href=\"guide/transition-and-triggers\">Transition and triggers</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/complex-animation-sequences\">複雜動畫序列</a></p><p translation-origin=\"off\"><a href=\"guide/complex-animation-sequences\">Complex animation Sequences</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/route-animations\">路由過渡動畫</a></p><p translation-origin=\"off\"><a href=\"guide/route-animations\">Route transition animations</a></p>\n\n</li>\n</ul>\n\n  <div class=\"reviewed\">最後複查時間：10/11/2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/animations\n - guide/complex-animation-sequences\n - guide/route-animations\n - guide/transition-and-triggers\n-->\n<!-- links from this doc:\n - api/animations/animate\n - api/animations/animation\n - api/animations/style\n - api/animations/transition\n - api/animations/trigger\n - api/animations/useAnimation\n - api/core/Component\n - guide/animations\n - guide/complex-animation-sequences\n - guide/reusable-animations#create-reusable-animations\n - guide/reusable-animations#more-on-angular-animations\n - guide/reusable-animations#prerequisites\n - guide/reusable-animations#reusable-animations\n - guide/reusable-animations#關於-angular-動畫的更多知識\n - guide/reusable-animations#建立可複用動畫\n - guide/reusable-animations#前提條件\n - guide/reusable-animations#可複用動畫\n - guide/route-animations\n - guide/transition-and-triggers\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/reusable-animations.md?message=docs%3A%20請簡述你的修改...\n-->"}