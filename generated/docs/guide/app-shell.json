{"id":"guide/app-shell","title":"App shell","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/app-shell.md?message=docs%3A%20請簡述你的修改...\" aria-label=\"提供編輯建議\" title=\"提供編輯建議\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"app-shell\" translation-result=\"on\">應用外殼<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#app-shell\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">App shell<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#app-shell\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">應用外殼是一種在建構期間藉助路由渲染部分應用的方法。它可以透過快速啟動一個靜態渲染頁面（所有頁面的公共骨架）來改善使用者體驗。與此同時，瀏覽器會下載完整的客戶端版本，並在程式碼載入後自動切換到完整版。</p><p translation-origin=\"off\">Application shell is a way to render a portion of your application using a route at build time.\nIt can improve the user experience by quickly launching a static rendered page (a skeleton common to all pages) while the browser downloads the full client version and switches to it automatically after the code loads.</p>\n\n<p translation-result=\"on\">這能讓使用者快速看到應用中第一個有意義的畫面，因為瀏覽器可以渲染出 HTML 和 CSS，而無需初始化任何 JavaScript。</p><p translation-origin=\"off\">This gives users a meaningful first paint of your application that appears quickly because the browser can render the HTML and CSS without the need to initialize any JavaScript.</p>\n\n<p translation-result=\"on\">欲知詳情，參閱<a href=\"https://developers.google.com/web/fundamentals/architecture/app-shell\">應用外殼模型</a>。</p><p translation-origin=\"off\">Learn more in <a href=\"https://developers.google.com/web/fundamentals/architecture/app-shell\">The App Shell Model</a>.</p>\n\n<h2 id=\"step-1-prepare-the-application\" translation-result=\"on\">第 1 步：準備本應用<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-1-prepare-the-application\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Step 1: Prepare the application<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-1-prepare-the-application\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">可以用下列 Angular CLI 命令來執行本操作：</p><p translation-origin=\"off\">Do this with the following Angular CLI command:</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nng new my-app --routing\n\n</code-example>\n<p translation-result=\"on\">對於既有應用，你必須手動新增 <code><a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a></code> 並在應用中定義 <code>&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;</code>。</p><p translation-origin=\"off\">For an existing application, you have to manually add the <code><a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a></code> and defining a <code>&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;</code> within your application.</p>\n\n<h2 id=\"step-2-create-the-application-shell\" translation-result=\"on\">第 2 步：建立應用外殼<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-2-create-the-application-shell\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Step 2: Create the application shell<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-2-create-the-application-shell\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">使用 Angular CLI 自動建立一個應用外殼。</p><p translation-origin=\"off\">Use the Angular CLI to automatically create the application shell.</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nng generate app-shell\n\n</code-example>\n<p translation-result=\"on\">要了解關於本命令的更多資訊，參見 <a href=\"cli/generate#app-shell-command\">app-shell 命令</a>。</p><p translation-origin=\"off\">For more information about this command, see <a href=\"cli/generate#app-shell-command\">App shell command</a>.</p>\n\n<p translation-result=\"on\">執行完這個命令，你會發現 <code>angular.json</code> 配置檔案中已經增加了兩個新目標，並做了一些其它更改。</p><p translation-origin=\"off\">After running this command you can see that the <code>angular.json</code> configuration file has been updated to add two new targets, with a few other changes.</p>\n\n<code-example language=\"json\">\n\n\"server\": {\n  \"builder\": \"@angular-devkit/build-angular:server\",\n  \"defaultConfiguration\": \"production\",\n  \"options\": {\n    \"outputPath\": \"dist/my-app/server\",\n    \"main\": \"src/main.server.ts\",\n    \"tsConfig\": \"tsconfig.server.json\"\n  },\n  \"configurations\": {\n    \"development\": {\n      \"outputHashing\": \"none\",\n    },\n    \"production\": {\n      \"outputHashing\": \"media\",\n      \"fileReplacements\": [\n        {\n          \"replace\": \"src/environments/environment.ts\",\n          \"with\": \"src/environments/environment.prod.ts\"\n        }\n      ],\n      \"sourceMap\": false,\n      \"optimization\": true\n    }\n  }\n},\n\"app-shell\": {\n  \"builder\": \"@angular-devkit/build-angular:app-shell\",\n  \"defaultConfiguration\": \"production\",\n  \"options\": {\n    \"route\": \"shell\"\n  },\n  \"configurations\": {\n    \"development\": {\n      \"browserTarget\": \"my-app:build:development\",\n      \"serverTarget\": \"my-app:server:development\",\n    },\n    \"production\": {\n      \"browserTarget\": \"my-app:build:production\",\n      \"serverTarget\": \"my-app:server:production\"\n    }\n  }\n}\n\n</code-example>\n<h2 id=\"step-3-verify-the-application-is-built-with-the-shell-content\" translation-result=\"on\">第 3 步：驗證該應用是使用應用外殼的內容建構的<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-3-verify-the-application-is-built-with-the-shell-content\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Step 3: Verify the application is built with the shell content<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-3-verify-the-application-is-built-with-the-shell-content\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">使用 Angular CLI 建構目標 <code>app-shell</code>。</p><p translation-origin=\"off\">Use the Angular CLI to build the <code>app-shell</code> target.</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nng run my-app:app-shell:development\n\n</code-example>\n<p translation-result=\"on\">或使用產品環境配置。</p><p translation-origin=\"off\">Or to use the production configuration.</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nng run my-app:app-shell:production\n\n</code-example>\n<p translation-result=\"on\">要驗證建構輸出，請開啟 <code class=\"no-auto-link\">dist/my-app/browser/index.html</code>。尋找預設的文字 <code>app-shell works!</code> 就可以驗證這個應用外殼路由確實是作為輸出的一部分渲染出來的。</p><p translation-origin=\"off\">To verify the build output, open <code class=\"no-auto-link\">dist/my-app/browser/index.html</code>.\nLook for default text <code>app-shell works!</code> to show that the application shell route was rendered as part of the output.</p>\n\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最後複查時間：2/28/2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/service-worker-getting-started\n - guide/service-worker-intro\n-->\n<!-- links from this doc:\n - api/router/RouterModule\n - api/router/RouterOutlet\n - cli/generate#app-shell-command\n - guide/app-shell#app-shell\n - guide/app-shell#step-1-prepare-the-application\n - guide/app-shell#step-2-create-the-application-shell\n - guide/app-shell#step-3-verify-the-application-is-built-with-the-shell-content\n - guide/app-shell#應用外殼\n - guide/app-shell#第-1-步準備本應用\n - guide/app-shell#第-2-步建立應用外殼\n - guide/app-shell#第-3-步驗證該應用是使用應用外殼的內容建構的\n - https://developers.google.com/web/fundamentals/architecture/app-shell\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/app-shell.md?message=docs%3A%20請簡述你的修改...\n-->"}