{"id":"guide/animations-attach-to-html-template","title":"Define animations and attach to an HTML template","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/animations-attach-to-html-template.md?message=docs%3A%20請簡述你的修改...\" aria-label=\"提供編輯建議\" title=\"提供編輯建議\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"define-animations-and-attach-to-an-html-template\" translation-result=\"on\">定義動畫並附加到 HTML 範本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/animations-attach-to-html-template#define-animations-and-attach-to-an-html-template\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">Define animations and attach to an HTML template<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/animations-attach-to-html-template#define-animations-and-attach-to-an-html-template\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">動畫是在控制要動畫的 HTML 元素的宿主元件的元資料中定義的。</p><p translation-origin=\"off\">Animations are defined in the metadata of the component that controls the HTML element to be animated.</p>\n\n<h2 id=\"define-the-animation\" translation-result=\"on\">定義動畫。<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/animations-attach-to-html-template#define-the-animation\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Define the animation<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/animations-attach-to-html-template#define-the-animation\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">將定義動畫的程式碼放在 <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>()</code> 裝飾器中的 <code>animations:</code> 屬性下。</p><p translation-origin=\"off\">Put the code that defines your animations under the <code>animations:</code> property within the <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>()</code> decorator.</p>\n\n<code-example header=\"src/app/open-close.component.ts\" path=\"animations/src/app/open-close.component.ts\" region=\"component\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-open-close',\n  animations: [\n    <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>('openClose', [\n      // ...\n      state('open', <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({\n        height: '200px',\n        opacity: 1,\n        backgroundColor: 'yellow'\n      })),\n      state('closed', <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({\n        height: '100px',\n        opacity: 0.8,\n        backgroundColor: 'blue'\n      })),\n      <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>('open =&gt; closed', [\n        <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>('1s')\n      ]),\n      <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>('closed =&gt; open', [\n        <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>('0.5s')\n      ]),\n    ]),\n  ],\n  templateUrl: 'open-close.component.html',\n  styleUrls: ['open-close.component.css']\n})\nexport class OpenCloseComponent {\n  isOpen = true;\n\n  toggle() {\n    this.isOpen = !this.isOpen;\n  }\n\n}\n\n</code-example>\n<p translation-result=\"on\">定義了元件的動畫觸發器後，將其附加到範本中的元素。將觸發器名稱括在方括號中，並在它前面加上 <code>@</code> 符號。可以使用標準的 Angular 屬性繫結語法將觸發器繫結到範本表示式。其中 <code>triggerName</code> 是觸發器的名稱，<code>expression</code> 計算為某個已定義的動畫狀態。</p><p translation-origin=\"off\">When an animation trigger for a component is defined, attach it to an element in the template. Wrap the trigger name in brackets and precede it with an <code>@</code> symbol.\nBind the trigger to a template expression using standard Angular property binding syntax. The <code>triggerName</code> is the name of the trigger, and <code>expression</code> evaluates to a defined animation state.</p>\n\n<code-example format=\"typescript\" language=\"typescript\">\n\n&lt;div [@triggerName]=\"expression\"&gt;…&lt;/div&gt;;\n\n</code-example>\n<p translation-result=\"on\">當該表示式的值變成了新的狀態時，動畫就會執行或者叫觸發。</p><p translation-origin=\"off\">The animation is executed or triggered when the expression value changes to a new state.</p>\n\n<p translation-result=\"on\">下列程式碼片段把該觸發器繫結到了 <code>isOpen</code> 屬性的值上。</p><p translation-origin=\"off\">The following code snippet binds the trigger to the value of the <code>isOpen</code> property.</p>\n\n<code-example header=\"src/app/open-close.component.html\" path=\"animations/src/app/open-close.component.1.html\" region=\"trigger\">\n&lt;nav&gt;\n  &lt;button type=\"button\" (click)=\"toggle()\"&gt;Toggle Open/Close&lt;/button&gt;\n&lt;/nav&gt;\n\n&lt;div [@openClose]=\"isOpen ? 'open' : 'closed'\" class=\"open-close-container\"&gt;\n  &lt;p&gt;The box is now {{ isOpen ? 'Open' : 'Closed' }}!&lt;/p&gt;\n&lt;/div&gt;\n\n</code-example>\n<p translation-result=\"on\">在這個例子中，當 <code>isOpen</code> 表示式求值為一個已定義狀態 <code>open</code> 或 <code>closed</code> 時，就會通知 <code>openClose</code> 觸發器說狀態變化了。然後，就由 <code>openClose</code> 中的程式碼來處理狀態變更，並啟動狀態變更動畫。</p><p translation-origin=\"off\">In this example, when the <code>isOpen</code> expression evaluates to a defined state of <code>open</code> or <code>closed</code>, it notifies the trigger <code>openClose</code> of a state change.\nThen it's up to the <code>openClose</code> code to handle the state change and kick off a state change animation.</p>\n\n<p translation-result=\"on\">對於那些進入或離開頁面的元素（插入到 DOM 中或從中移除），你可以讓動畫變成有條件的。比如，在 HTML 範本中可以和 <code>*<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a></code> 一起使用動畫觸發器。</p><p translation-origin=\"off\">For elements entering or leaving a page (inserted or removed from the DOM), you can make the animations conditional.\nFor example, use <code>*<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a></code> with the animation trigger in the HTML template.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">注意：<br>\n在元件檔案中，將定義動畫的觸發器設定為 <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>()</code> 裝飾器中 <code>animations:</code> 屬性的值。</p><p translation-origin=\"off\"><strong>NOTE</strong>: <br>\nIn the component file, set the trigger that defines the animations as the value of the <code>animations:</code> property in the <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>()</code> decorator.</p>\n\n<h2 id=\"attach-an-animation-to-an-html-template\" translation-result=\"on\">將動畫附加到 HTML 範本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/animations-attach-to-html-template#attach-an-animation-to-an-html-template\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Attach an animation to an HTML template<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/animations-attach-to-html-template#attach-an-animation-to-an-html-template\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">在 HTML 範本檔案中，使用觸發器名稱把已定義的動畫附著到要執行動畫的 HTML 元素上。</p><p translation-origin=\"off\">In the HTML template file, use the trigger name to attach the defined animations to the HTML element to be animated.</p>\n\n</div>\n\n  <div class=\"reviewed\">最後複查時間：10/28/2022</div>\n</div>\n\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/animations/animate\n - api/animations/style\n - api/animations/transition\n - api/animations/trigger\n - api/common/NgIf\n - api/core/Component\n - guide/animations-attach-to-html-template#attach-an-animation-to-an-html-template\n - guide/animations-attach-to-html-template#define-animations-and-attach-to-an-html-template\n - guide/animations-attach-to-html-template#define-the-animation\n - guide/animations-attach-to-html-template#定義動畫\n - guide/animations-attach-to-html-template#定義動畫並附加到-html-範本\n - guide/animations-attach-to-html-template#將動畫附加到-html-範本\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/animations-attach-to-html-template.md?message=docs%3A%20請簡述你的修改...\n-->"}