{"id":"guide/standalone-migration","title":"Migrate an existing Angular project to standalone","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/standalone-migration.md?message=docs%3A%20è«‹ç°¡è¿°ä½ çš„ä¿®æ”¹...\" aria-label=\"æä¾›ç·¨è¼¯å»ºè­°\" title=\"æä¾›ç·¨è¼¯å»ºè­°\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"migrate-an-existing-angular-project-to-standalone\" translation-result=\"on\">å°‡ç¾æœ‰çš„ Angular å°ˆæ¡ˆé·ç§»åˆ°ç¨ç«‹å°ˆæ¡ˆ<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#migrate-an-existing-angular-project-to-standalone\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">Migrate an existing Angular project to standalone<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#migrate-an-existing-angular-project-to-standalone\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">å¾ç‰ˆæœ¬ 15.2.0 é–‹å§‹ï¼ŒAngular æä¾›äº†ä¸€å€‹<a href=\"guide/schematics\">åŸç†åœ–</a>ä¾†å¹«åŠ©å°ˆæ¡ˆä½œè€…å°‡ç¾æœ‰å°ˆæ¡ˆè½‰æ›ç‚º<a href=\"guide/standalone-components\">æ–°çš„ç¨ç«‹ API</a>ã€‚è©²åŸç†åœ–æ—¨åœ¨è‡ªå‹•è½‰æ›å„˜å¯èƒ½å¤šçš„ç¨‹å¼ç¢¼ï¼Œä½†å¯èƒ½éœ€è¦å°ˆæ¡ˆä½œè€…é€²è¡Œä¸€äº›æ‰‹å‹•ä¿®å¾©ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åŸ·è¡ŒåŸç†åœ–ï¼š</p><p translation-origin=\"off\">As of version 15.2.0, Angular offers a <a href=\"guide/schematics\">schematic</a> to help project authors convert existing projects to <a href=\"guide/standalone-components\">the new standalone APIs</a>. The schematic aims to transform as much code as possible automatically, but it may require some manual fixes by the project author. Run the schematic with the following command:</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nng generate @angular/core:standalone\n\n</code-example>\n<h2 id=\"prerequisites\" translation-result=\"on\">å‰ææ¢ä»¶<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#prerequisites\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">åœ¨ä½¿ç”¨æœ¬åŸç†åœ–ä¹‹å‰ï¼Œè«‹ç¢ºä¿å°ˆæ¡ˆï¼š</p><p translation-origin=\"off\">Before using the schematic, please ensure that the project:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">ä½¿ç”¨çš„æ˜¯ Angular 15.2.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</p><p translation-origin=\"off\">Is using Angular 15.2.0 or later.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">å»ºæ§‹æ²’æœ‰ä»»ä½•ç·¨è­¯éŒ¯èª¤ã€‚</p><p translation-origin=\"off\">Builds without any compilation errors.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">åœ¨ä¹¾æ·¨çš„ Git åˆ†æ”¯ä¸Šï¼Œæ‰€æœ‰å·¥ä½œéƒ½å·²å„²å­˜ã€‚</p><p translation-origin=\"off\">Is on a clean Git branch and all work is saved.</p>\n\n</li>\n</ol>\n<h2 id=\"schematic-options\" translation-result=\"on\">åŸç†åœ–é¸é …<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#schematic-options\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Schematic options<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#schematic-options\"><i class=\"material-icons\">link</i></a></h2>\n\n<table>\n<thead>\n<tr>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">é¸é …</nt-wrapper><nt-wrapper translation-origin=\"off\">Option</nt-wrapper></th>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">è©³æƒ…</nt-wrapper><nt-wrapper translation-origin=\"off\">Details</nt-wrapper></th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code>mode</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">è¦åŸ·è¡Œçš„è½‰æ›ã€‚æœ‰é—œå¯ç”¨é¸é …çš„è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–±ä¸‹é¢çš„<a href=\"guide/standalone-migration#migration-modes\">é·ç§»æ¨¡å¼</a>ã€‚</nt-wrapper><nt-wrapper translation-origin=\"off\">The transformation to perform. See <a href=\"guide/standalone-migration#migration-modes\">Migration modes</a> below for details on the available options.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>path</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">ç›¸å°æ–¼å°ˆæ¡ˆæ ¹ç›®éŒ„çš„é·ç§»è·¯å¾‘ã€‚ä½ å¯ä»¥ä½¿ç”¨æ­¤é¸é …ä»¥å¢é‡æ–¹å¼é·ç§»å°ˆæ¡ˆçš„å„å€‹éƒ¨åˆ†ã€‚</nt-wrapper><nt-wrapper translation-origin=\"off\">The path to migrate, relative to the project root. You can use this option to migrate sections of your project incrementally.</nt-wrapper></td>\n</tr>\n\n</tbody>\n</table>\n<h2 id=\"migrations-steps\" translation-result=\"on\">é·ç§»æ­¥é©Ÿ<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#migrations-steps\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Migrations steps<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#migrations-steps\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">é·ç§»éç¨‹ç”±ä¸‰å€‹æ­¥é©Ÿçµ„æˆã€‚ä½ å¿…é ˆå¤šæ¬¡åŸ·è¡Œå®ƒä¸¦æ‰‹å‹•æª¢æŸ¥å°ˆæ¡ˆæ˜¯å¦èƒ½æŒ‰é æœŸå»ºæ§‹å’ŒåŸ·è¡Œã€‚</p><p translation-origin=\"off\">The migration process is composed of three steps. You'll have to run it multiple times and check manually that the project builds and behaves as expected.</p>\n\n<div class=\"callout is-helpful\">\n<header ng-should-translate=\"\" translation-result=\"on\">æ³¨æ„</header><header ng-should-translate=\"\" translation-origin=\"off\">Note</header>\n\n<p translation-result=\"on\">é›–ç„¶è…³æ‰‹æ¶å¯ä»¥è‡ªå‹•æ›´æ–°å¤§éƒ¨åˆ†ç¨‹å¼ç¢¼ï¼Œä½†æœ‰äº›æ¥µç«¯æƒ…æ³é‚„æ˜¯éœ€è¦é–‹ç™¼äººå“¡é€²è¡Œå¹²é ã€‚ä½ æ‡‰è©²ç‚ºåœ¨æ¯å€‹é·ç§»æ­¥é©Ÿä¹‹å¾Œé€²è¡Œæ‰‹å‹•ä¿®å¾©åšå¥½æº–å‚™ã€‚æ­¤å¤–ï¼Œè…³æ‰‹æ¶ç”¢ç”Ÿçš„æ–°ç¨‹å¼ç¢¼ä¹Ÿå¯èƒ½èˆ‡ä½ çš„ç¨‹å¼ç¢¼æ ¼å¼è¦å‰‡ä¸åŒ¹é…ã€‚</p><p translation-origin=\"off\">While the schematic can automatically update most code, some edge cases require developer intervention.\nYou should plan to apply manual fixes after each step of the migration. Additionally, the new code generated by the schematic may not match your code's formatting rules.</p>\n\n</div>\n<p translation-result=\"on\">æŒ‰ç…§ä¸‹é¢åˆ—å‡ºçš„é †åºåŸ·è¡Œé·ç§»ï¼Œé©—è­‰ä½ çš„ç¨‹å¼ç¢¼åœ¨æ¯å€‹æ­¥é©Ÿä¹‹é–“å»ºæ§‹å’ŒåŸ·è¡Œï¼š</p><p translation-origin=\"off\">Run the migration in the order listed below, verifying that your code builds and runs between each step:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">åŸ·è¡Œ <code>ng g @angular/core:standalone</code> ä¸¦é¸æ“‡ â€œConvert all components, directives and pipes to standaloneâ€</p><p translation-origin=\"off\">Run <code>ng g @angular/core:standalone</code> and select \"Convert all components, directives and pipes to standalone\"</p>\n\n</li>\n<li>\n<p translation-result=\"on\">åŸ·è¡Œ <code>ng g @angular/core:standalone</code> ä¸¦é¸æ“‡ â€œRemove unnecessary NgModule classesâ€</p><p translation-origin=\"off\">Run <code>ng g @angular/core:standalone</code> and select \"Remove unnecessary NgModule classes\"</p>\n\n</li>\n<li>\n<p translation-result=\"on\">åŸ·è¡Œ <code>ng g @angular/core:standalone</code> ä¸¦é¸æ“‡ â€œBootstrap the project using standalone APIsâ€</p><p translation-origin=\"off\">Run <code>ng g @angular/core:standalone</code> and select \"Bootstrap the project using standalone APIs\"</p>\n\n</li>\n<li>\n<p translation-result=\"on\">åŸ·è¡Œä»»ä½•éœæ…‹åˆ†æï¼ˆlintï¼‰å’Œæ ¼å¼æª¢æŸ¥ï¼Œä¿®å¾©ä»»ä½•æ•…éšœï¼Œä¸¦æäº¤çµæœ</p><p translation-origin=\"off\">Run any linting and formatting checks, fix any failures, and commit the result</p>\n\n</li>\n</ol>\n<h2 id=\"after-the-migration\" translation-result=\"on\">é·ç§»å¾Œ<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#after-the-migration\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">After the migration<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#after-the-migration\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">æ­å–œï¼Œä½ çš„æ‡‰ç”¨ç¨‹å¼å·²è½‰æ›ç‚ºç¨ç«‹æ‡‰ç”¨ç¨‹å¼ ğŸ‰ã€‚é€™äº›æ˜¯ä½ ç¾åœ¨å¯èƒ½æƒ³è¦æ¡å–çš„ä¸€äº›å¯é¸çš„å¾ŒçºŒæ­¥é©Ÿï¼š</p><p translation-origin=\"off\">Congratulations, your application has been converted to standalone ğŸ‰. These are some optional follow-up steps you may want to take now:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">æŸ¥è©¢ä¸¦åˆªé™¤ä»»ä½•å‰©é¤˜çš„ <code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> å®£å‘Šï¼šç”±æ–¼<a href=\"guide/standalone-migration#remove-unnecessary-ngmodules\">â€œåˆªé™¤ä¸å¿…è¦çš„ NgModuleâ€æ­¥é©Ÿ</a>ä¸èƒ½è‡ªå‹•åˆªé™¤æ‰€æœ‰æ¨¡çµ„ï¼Œä½ å¯èƒ½å¿…é ˆæ‰‹å‹•åˆªé™¤å‰©é¤˜çš„å®£å‘Šã€‚</p><p translation-origin=\"off\">Find and remove any remaining <code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> declarations: since the <a href=\"guide/standalone-migration#remove-unnecessary-ngmodules\">\"Remove unnecessary NgModules\" step</a> cannot remove all modules automatically, you may have to remove the remaining declarations manually.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">åŸ·è¡Œå°ˆæ¡ˆçš„å–®å…ƒæ¸¬è©¦ä¸¦ä¿®å¾©æ‰€æœ‰æ•…éšœã€‚</p><p translation-origin=\"off\">Run the project's unit tests and fix any failures.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">å¦‚æœå°ˆæ¡ˆä½¿ç”¨äº†è‡ªå‹•æ ¼å¼åŒ–ï¼Œå‰‡åŸ·è¡Œæ‰€æœ‰ç¨‹å¼ç¢¼æ ¼å¼åŒ–ç¨‹å¼ã€‚</p><p translation-origin=\"off\">Run any code formatters, if the project uses automatic formatting.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">åœ¨ä½ çš„å°ˆæ¡ˆä¸­åŸ·è¡Œä»»ä½•éœæ…‹åˆ†æå™¨ï¼ˆlinterï¼‰ä¸¦ä¿®å¾©æ–°è­¦å‘Šã€‚ä¸€äº›éœæ…‹åˆ†æå™¨æ”¯æ´ <code>--fix</code> æ¨™èªŒï¼Œå¯ä»¥è‡ªå‹•è§£æ±ºä¸€äº›è­¦å‘Šã€‚</p><p translation-origin=\"off\">Run any linters in your project and fix new warnings. Some linters support a <code>--fix</code> flag that may resolve so warnings automatically.</p>\n\n</li>\n</ul>\n<h2 id=\"migration-modes\" translation-result=\"on\">é·ç§»æ¨¡å¼<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#migration-modes\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Migration modes<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#migration-modes\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">é·ç§»æœ‰ä»¥ä¸‹å¹¾å€‹æ­¥é©Ÿï¼š</p><p translation-origin=\"off\">The migration has the following modes:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">å°‡å®£å‘Šè½‰æ›ç‚ºç¨ç«‹çš„ã€‚</p><p translation-origin=\"off\">Convert declarations to standalone.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">ç§»é™¤ä¸å¿…è¦çš„ NgModuleã€‚</p><p translation-origin=\"off\">Remove unnecessary NgModules.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">åˆ‡æ›åˆ°ç¨ç«‹çš„å¼•å°å•Ÿå‹• APIã€‚</p><p translation-origin=\"off\">Switch to standalone bootstrapping API.\nYou should run these migrations in the order given.</p>\n\n</li>\n</ol>\n<p>ä½ æ‡‰è©²æŒ‰ç…§çµ¦å®šçš„é †åºåŸ·è¡Œé€™äº›é·ç§»ã€‚</p>\n<h3 id=\"convert-declarations-to-standalone\" translation-result=\"on\">å°‡å®£å‘Šè½‰æ›ç‚ºç¨ç«‹çš„<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#convert-declarations-to-standalone\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Convert declarations to standalone<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#convert-declarations-to-standalone\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">åœ¨é€™ç¨®æ¨¡å¼ä¸‹ï¼Œé·ç§»é€éè¨­å®š <code>standalone: true</code> ä¸¦å°‡ä¾è³´é …æ–°å¢åˆ°å®ƒå€‘çš„ <code>imports</code> é™£åˆ—ä¾†å°‡æ‰€æœ‰å…ƒä»¶ã€æŒ‡ä»¤å’Œç®¡é“è½‰æ›ç‚ºç¨ç«‹çš„ã€‚</p><p translation-origin=\"off\">In this mode, the migration converts all components, directives and pipes to standalone by setting <code>standalone: true</code> and adding dependencies to their <code>imports</code> array.</p>\n\n<div class=\"callout is-helpful\">\n<p translation-result=\"on\">åœ¨æ­¤æ­¥é©Ÿä¸­ï¼Œè©²åŸç†åœ–æœƒå¿½ç•¥åœ¨æ­¤éç¨‹ä¸­å¼•å°å…ƒä»¶çš„ NgModulesï¼Œå› ç‚ºå®ƒå€‘å¾ˆå¯èƒ½æ˜¯ç”± <code>bootstrapModule</code> ä½¿ç”¨çš„æ ¹æ¨¡çµ„ï¼Œè€Œä¸æ˜¯ç›¸å®¹ç¨ç«‹çš„ <code><a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a></code>ã€‚è©²åŸç†åœ–æœƒè‡ªå‹•å°‡é€™äº›å®£å‘Šè½‰æ›ç‚º<a href=\"guide/standalone-migration#switch-to-standalone-bootstrapping-api\">\"ç¨ç«‹å¼•å° API\"</a> æ­¥é©Ÿçš„ä¸€éƒ¨åˆ†ã€‚</p><p translation-origin=\"off\">The schematic ignores NgModules which bootstrap a component during this step because they are likely root modules used by <code>bootstrapModule</code> rather than the standalone-compatible <code><a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a></code>. The schematic converts these declarations automatically as a part of the <a href=\"guide/standalone-migration#switch-to-standalone-bootstrapping-api\">\"Switch to standalone bootstrapping API\"</a> step.</p>\n\n</div>\n<p translation-result=\"on\"><strong>ä¹‹å‰ï¼š</strong></p><p translation-origin=\"off\"><strong>Before:</strong></p>\n\n<code-example language=\"typescript\">\n// shared.module.ts\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [<a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a>],\n  declarations: [GreeterComponent],\n  exports: [GreeterComponent]\n})\nexport class SharedModule {}\n</code-example>\n<code-example language=\"typescript\">\n// greeter.component.ts\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'greeter',\n  template: '&lt;div *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"showGreeting\"&gt;Hello&lt;/div&gt;',\n})\nexport class GreeterComponent {\n  showGreeting = true;\n}\n</code-example>\n<p translation-result=\"on\"><strong>ä¹‹å¾Œï¼š</strong></p><p translation-origin=\"off\"><strong>After:</strong></p>\n\n<code-example language=\"typescript\">\n// shared.module.ts\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [<a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a>, GreeterComponent],\n  exports: [GreeterComponent]\n})\nexport class SharedModule {}\n</code-example>\n<code-example language=\"typescript\">\n// greeter.component.ts\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'greeter',\n  template: '&lt;div *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"showGreeting\"&gt;Hello&lt;/div&gt;',\n  standalone: true,\n  imports: [<a href=\"api/common/NgIf\" class=\"code-anchor\">NgIf</a>]\n})\nexport class GreeterComponent {\n  showGreeting = true;\n}\n</code-example>\n<h3 id=\"remove-unnecessary-ngmodules\" translation-result=\"on\">ç§»é™¤ä¸å¿…è¦çš„ NgModule<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#remove-unnecessary-ngmodules\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Remove unnecessary NgModules<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#remove-unnecessary-ngmodules\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">åœ¨å°‡æ‰€æœ‰å®£å‘Šéƒ½è½‰æ›ç‚ºç¨ç«‹è²æ˜å¾Œï¼Œå°±å¯ä»¥å®‰å…¨åœ°åˆªé™¤è¨±å¤š NgModule äº†ã€‚æ­¤æ­¥é©Ÿæœƒåˆªé™¤é€™é¡æ¨¡çµ„å®£å‘Šå’Œå„˜å¯èƒ½å¤šçš„ç›¸æ‡‰åƒè€ƒã€‚å¦‚æœé·ç§»ç„¡æ³•è‡ªå‹•åˆªé™¤åƒè€ƒï¼Œå®ƒå°±æœƒç•™ä¸‹ä»¥ä¸‹ TODO è¨»é‡‹ï¼Œä»¥ä¾¿ä½ å¯ä»¥æ‰‹å‹•åˆªé™¤ NgModuleï¼š</p><p translation-origin=\"off\">After converting all declarations to standalone, many NgModules can be safely removed. This step deletes such module declarations and as many corresponding references as possible. If the migration cannot delete a reference automatically, it leaves the following TODO comment so that you can delete the NgModule manually:</p>\n\n<code-example language=\"typescript\">\n/* TODO(standalone-migration): clean up removed <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> reference manually */\n</code-example>\n<p translation-result=\"on\">å¦‚æœè©²æ¨¡çµ„æ»¿è¶³ä»¥ä¸‹æ¢ä»¶ï¼Œå‰‡é·ç§»å™¨å°±èªç‚ºè©²æ¨¡çµ„å¯ä»¥å®‰å…¨åˆªé™¤äº†ï¼š</p><p translation-origin=\"off\">The migration considers a module safe to remove if that module:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">æ²’æœ‰ <code>declarations</code>ã€‚</p><p translation-origin=\"off\">Has no <code>declarations</code>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">æ²’æœ‰ <code>providers</code>ã€‚</p><p translation-origin=\"off\">Has no <code>providers</code>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">æ²’æœ‰ <code>bootstrap</code> å…ƒä»¶ã€‚</p><p translation-origin=\"off\">Has no <code>bootstrap</code> components.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">æ²’æœ‰åƒè€ƒ <code><a href=\"api/core/ModuleWithProviders\" class=\"code-anchor\">ModuleWithProviders</a></code> ç¬¦è™Ÿæˆ–ç„¡æ³•åˆªé™¤çš„æ¨¡çµ„çš„ <code>imports</code>ã€‚</p><p translation-origin=\"off\">Has no <code>imports</code> that reference a <code><a href=\"api/core/ModuleWithProviders\" class=\"code-anchor\">ModuleWithProviders</a></code> symbol or a module that can't be removed.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">æ²’æœ‰é¡æˆå“¡ã€‚ç©ºå»ºæ§‹å‡½å¼å°‡è¢«å¿½ç•¥ã€‚</p><p translation-origin=\"off\">Has no class members. Empty constructors are ignored.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\"><strong>ä¹‹å‰ï¼š</strong></p><p translation-origin=\"off\"><strong>Before:</strong></p>\n\n<code-example language=\"typescript\">\n// importer.module.ts\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [FooComponent, BarPipe],\n  exports: [FooComponent, BarPipe]\n})\nexport class ImporterModule {}\n</code-example>\n<p translation-result=\"on\"><strong>ä¹‹å¾Œï¼š</strong></p><p translation-origin=\"off\"><strong>After:</strong></p>\n\n<code-example language=\"typescript\">\n// importer.module.ts\n// Does not exist!\n</code-example>\n<h3 id=\"switch-to-standalone-bootstrapping-api\" translation-result=\"on\">åˆ‡æ›åˆ°ç¨ç«‹çš„å¼•å° API<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#switch-to-standalone-bootstrapping-api\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Switch to standalone bootstrapping API<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#switch-to-standalone-bootstrapping-api\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">æ­¤æ­¥é©Ÿå°‡ <code>bootstrapModule</code> çš„ä»»ä½•ç”¨æ³•è½‰æ›ç‚ºæ–°çš„ã€åŸºæ–¼ç¨ç«‹çš„ <code><a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a></code>ã€‚å®ƒé‚„æœƒå°‡æ ¹å…ƒä»¶åˆ‡æ›ç‚º <code>standalone: true</code> ä¸¦åˆªé™¤æ ¹ NgModuleã€‚å¦‚æœæ ¹æ¨¡çµ„æœ‰ä»»ä½• <code>providers</code> æˆ– <code>imports</code>ï¼Œé·ç§»æœƒå˜—è©¦å°‡ç›¡å¯èƒ½å¤šçš„é…ç½®è¤‡è£½åˆ°æ–°çš„è¼‰å…¥ç¨‹å¼å‘¼å«ä¸­ã€‚</p><p translation-origin=\"off\">This step converts any usages of  <code>bootstrapModule</code> to the new, standalone-based <code><a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a></code>. It also switches the root component to <code>standalone: true</code> and deletes the root NgModule. If the root module has any <code>providers</code> or <code>imports</code>, the migration attempts to copy as much of this configuration as possible into the new bootstrap call.</p>\n\n<p translation-result=\"on\"><strong>ä¹‹å‰ï¼š</strong></p><p translation-origin=\"off\"><strong>Before:</strong></p>\n\n<code-example language=\"typescript\">\n// ./app/app.module.ts\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { AppComponent } from './app.component';\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  declarations: [AppComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code-example>\n<code-example language=\"typescript\">\n// ./app/app.component.ts\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({ selector: 'app', template: 'hello' })\nexport class AppComponent {}\n</code-example>\n<code-example language=\"typescript\">\n// ./main.ts\nimport { <a href=\"api/platform-browser/platformBrowser\" class=\"code-anchor\">platformBrowser</a> } from '@angular/platform-browser';\nimport { AppModule } from './app/app.module';\n\n<a href=\"api/platform-browser/platformBrowser\" class=\"code-anchor\">platformBrowser</a>().bootstrapModule(AppModule).catch(e =&gt; console.error(e));\n</code-example>\n<p translation-result=\"on\"><strong>ä¹‹å¾Œï¼š</strong></p><p translation-origin=\"off\"><strong>After:</strong></p>\n\n<code-example language=\"typescript\">\n// ./app/app.module.ts\n// Does not exist!\n</code-example>\n<code-example language=\"typescript\">\n// ./app/app.component.ts\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({ selector: 'app', template: 'hello', standalone: true })\nexport class AppComponent {}\n</code-example>\n<code-example language=\"typescript\">\n// ./main.ts\nimport { <a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a> } from '@angular/platform-browser';\nimport { AppComponent } from './app/app.component';\n\n<a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a>(AppComponent).catch(e =&gt; console.error(e));\n</code-example>\n<h2 id=\"common-problems\" translation-result=\"on\">å¸¸è¦‹å•é¡Œ<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#common-problems\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Common problems<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#common-problems\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">ä¸€äº›å¯èƒ½é˜»æ­¢åŸç†åœ–æ­£å¸¸å·¥ä½œçš„å¸¸è¦‹å•é¡ŒåŒ…æ‹¬ï¼š</p><p translation-origin=\"off\">Some common problems that may prevent the schematic from working correctly include:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">ç·¨è­¯éŒ¯èª¤ â€”â€” å¦‚æœå°ˆæ¡ˆæœ‰ç·¨è­¯éŒ¯èª¤ï¼ŒAngular å°±ç„¡æ³•æ­£ç¢ºåˆ†æå’Œé·ç§»å®ƒã€‚</p><p translation-origin=\"off\">Compilation errors - if the project has compilation errors, Angular cannot analyze and migrate it correctly.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">æª”æ¡ˆæœªåŒ…å«åœ¨ tsconfig ä¸­ â€”â€” åŸç†åœ–é€éåˆ†æå°ˆæ¡ˆçš„ <code>tsconfig.json</code> æª”æ¡ˆä¾†ç¢ºå®šè¦é·ç§»çš„æª”æ¡ˆã€‚è©²åŸç†åœ–ä¸æœƒåŒ…æ‹¬ä»»ä½•æœªè¢« tsconfig æ•ç²çš„æª”æ¡ˆã€‚</p><p translation-origin=\"off\">Files not included in a tsconfig - the schematic determines which files to migrate by analyzing your project's <code>tsconfig.json</code> files. The schematic excludes any files not captured by a tsconfig.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">ç„¡æ³•éœæ…‹åˆ†æçš„ç¨‹å¼ç¢¼ â€”â€” åŸç†åœ–ä½¿ç”¨éœæ…‹åˆ†æä¾†ç†è§£ä½ çš„ç¨‹å¼ç¢¼ä¸¦ç¢ºå®šåœ¨å“ªè£¡é€²è¡Œæ›´æ”¹ã€‚é·ç§»å¯èƒ½æœƒè·³éä»»ä½•åŒ…å«åœ¨å»ºæ§‹æ™‚ç„¡æ³•éœæ…‹åˆ†æçš„å…ƒè³‡æ–™çš„é¡åˆ¥ã€‚</p><p translation-origin=\"off\">Code that cannot be statically analyzed - the schematic uses static analysis to understand your code and determine where to make changes. The migration may skip any classes with metadata that cannot be statically analyzed at build time.</p>\n\n</li>\n</ul>\n<h2 id=\"limitations\" translation-result=\"on\">é™åˆ¶<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#limitations\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Limitations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/standalone-migration#limitations\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">ç”±æ–¼é·ç§»çš„è¦æ¨¡å’Œè¤‡é›œæ€§ï¼Œæœ‰ä¸€äº›æƒ…æ³æ˜¯åŸç†åœ–ç„¡æ³•è™•ç†çš„ï¼š</p><p translation-origin=\"off\">Due to the size and complexity of the migration, there are some cases that the schematic cannot handle:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">å› ç‚ºå–®å…ƒæ¸¬è©¦ä¸æ˜¯é å…ˆï¼ˆAoTï¼‰ç·¨è­¯çš„ï¼Œæ‰€ä»¥åœ¨å–®å…ƒæ¸¬è©¦ä¸­å¾€å…ƒä»¶çš„ <code>imports</code> ä¸­æ–°å¢é¡å¯èƒ½ä¸å®Œå…¨æ­£ç¢ºã€‚</p><p translation-origin=\"off\">Because unit tests are not ahead-of-time (AoT) compiled, <code>imports</code> added to components in unit tests might not be entirely correct.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">è©²åŸç†åœ–ä¾è³´æ–¼å° Angular API çš„ç›´æ¥å‘¼å«ã€‚åŸç†åœ–ç„¡æ³•è­˜åˆ¥åœç¹ Angular API çš„è‡ªè¨‚åŒ…è£å™¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨é‚£è£¡å®šç¾©äº†ä¸€å€‹è‡ªè¨‚çš„ <code>customConfigureTestModule</code> å‡½å¼ä¾†åŒ…è£ <code>TestBed.configureTestingModule</code>ï¼Œå®ƒå®£å‘Šçš„å…ƒä»¶å¯èƒ½ç„¡æ³•è¢«è­˜åˆ¥ã€‚</p><p translation-origin=\"off\">The schematic relies on direct calls to Angular APIs. The schematic cannot recognize custom wrappers around Angular APIs. For example, if there you define a custom <code>customConfigureTestModule</code> function that wraps <code>TestBed.configureTestingModule</code>, components it declares may not be recognized.</p>\n\n</li>\n</ul>\n\n  <div class=\"reviewed\">æœ€å¾Œè¤‡æŸ¥æ™‚é–“ï¼š2/15/2023</div>\n</div>\n\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/common/CommonModule\n - api/common/NgIf\n - api/core/Component\n - api/core/ModuleWithProviders\n - api/core/NgModule\n - api/platform-browser/bootstrapApplication\n - api/platform-browser/platformBrowser\n - guide/schematics\n - guide/standalone-components\n - guide/standalone-migration#after-the-migration\n - guide/standalone-migration#common-problems\n - guide/standalone-migration#convert-declarations-to-standalone\n - guide/standalone-migration#limitations\n - guide/standalone-migration#migrate-an-existing-angular-project-to-standalone\n - guide/standalone-migration#migration-modes\n - guide/standalone-migration#migrations-steps\n - guide/standalone-migration#prerequisites\n - guide/standalone-migration#remove-unnecessary-ngmodules\n - guide/standalone-migration#schematic-options\n - guide/standalone-migration#switch-to-standalone-bootstrapping-api\n - guide/standalone-migration#åˆ‡æ›åˆ°ç¨ç«‹çš„å¼•å°-api\n - guide/standalone-migration#å‰ææ¢ä»¶\n - guide/standalone-migration#åŸç†åœ–é¸é …\n - guide/standalone-migration#å°‡å®£å‘Šè½‰æ›ç‚ºç¨ç«‹çš„\n - guide/standalone-migration#å°‡ç¾æœ‰çš„-angular-å°ˆæ¡ˆé·ç§»åˆ°ç¨ç«‹å°ˆæ¡ˆ\n - guide/standalone-migration#å¸¸è¦‹å•é¡Œ\n - guide/standalone-migration#ç§»é™¤ä¸å¿…è¦çš„-ngmodule\n - guide/standalone-migration#é·ç§»å¾Œ\n - guide/standalone-migration#é·ç§»æ¨¡å¼\n - guide/standalone-migration#é·ç§»æ­¥é©Ÿ\n - guide/standalone-migration#é™åˆ¶\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/guide/standalone-migration.md?message=docs%3A%20è«‹ç°¡è¿°ä½ çš„ä¿®æ”¹...\n-->"}