{"id":"extended-diagnostics","title":"Extended Diagnostics","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/cn/aio/content/extended-diagnostics/index.md?message=docs%3A%20請簡述你的修改...\" aria-label=\"提供編輯建議\" title=\"提供編輯建議\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"extended-diagnostics\" translation-result=\"on\">擴充診斷<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#extended-diagnostics\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">Extended Diagnostics<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#extended-diagnostics\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">有許多編碼模式在技術上對編譯器或執行時來說都同樣是有效的，但卻可能有複雜的細微差別或警告。這些模式可能不會具有開發人員預期的效果，而這通常會導致錯誤。Angular 編譯器包含“擴充診斷”，可以識別其中的許多模式，以警告開發人員潛在的問題並在程式碼庫中強制執行通用的最佳實踐。</p><p translation-origin=\"off\">There are many coding patterns that are technically valid to the compiler or runtime, but which may have complex nuances or caveats.\nThese patterns may not have the intended effect expected by a developer, which often leads to bugs.\nThe Angular compiler includes \"extended diagnostics\" which identify many of these patterns, in order to warn developers about the potential issues and enforce common best practices within a codebase.</p>\n\n<h2 id=\"diagnostics\" translation-result=\"on\">診斷<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#diagnostics\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Diagnostics<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#diagnostics\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">目前，Angular 支援以下擴充診斷：</p><p translation-origin=\"off\">Currently, Angular supports the following extended diagnostics:</p>\n\n<ul>\n<li>\n<p><a href=\"extended-diagnostics/NG8101\">NG8101 - <code>invalidBananaInBox</code></a></p>\n</li>\n<li>\n<p><a href=\"extended-diagnostics/NG8102\">NG8102 - <code>nullishCoalescingNotNullable</code></a></p>\n</li>\n<li>\n<p><a href=\"extended-diagnostics/NG8103\">NG8103 - <code>missingControlFlowDirective</code></a></p>\n</li>\n<li>\n<p><a href=\"extended-diagnostics/NG8104\">NG8104 - <code>textAttributeNotBinding</code></a></p>\n</li>\n<li>\n<p><a href=\"extended-diagnostics/NG8105\">NG8105 - <code>missingNgForOfLet</code></a></p>\n</li>\n<li>\n<p><a href=\"extended-diagnostics/NG8106\">NG8106 - <code>suffixNotSupported</code></a></p>\n</li>\n<li>\n<p><a href=\"extended-diagnostics/NG8107\">NG8107 - <code>optionalChainNotNullable</code></a></p>\n</li>\n</ul>\n<h2 id=\"configuration\" translation-result=\"on\">配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#configuration\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Configuration<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#configuration\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">預設情況下，擴充診斷是警告，並且不會阻止編譯。每個診斷都可以配置為：</p><p translation-origin=\"off\">Extended diagnostics are warnings by default and do not block compilation.\nEach diagnostic can be configured as either:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><code>warning</code>（預設）-編譯器將診斷作為警告發出，但不會阻止編譯。即使發出了警告，編譯器仍然會以狀態程式碼 0 退出。</p><p translation-origin=\"off\"><code>warning</code> (default) - The compiler emits the diagnostic as a warning but does not block\ncompilation. The compiler will still exit with status code 0, even if warnings are emitted.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>error</code> - 編譯器將診斷作為錯誤發出並且編譯失敗。如果發出一個或多個錯誤，編譯器將使用非零狀態程式碼退出。</p><p translation-origin=\"off\"><code>error</code> - The compiler emits the diagnostic as an error and fails the compilation.\nThe compiler will exit with a non-zero status code if one or more errors are emitted.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>suppress</code> - 編譯器根本<em>不會</em>發出診斷資訊。</p><p translation-origin=\"off\"><code>suppress</code> - The compiler does <em>not</em> emit the diagnostic at all.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">這種檢查的嚴重性可以在專案的 <code>tsconfig.json</code> 檔案中配置：</p><p translation-origin=\"off\">Check severity can be configured in the project's <code>tsconfig.json</code> file:</p>\n\n<code-example format=\"jsonc\" language=\"jsonc\">\n\n{\n  \"angularCompilerOptions\": {\n    \"extendedDiagnostics\": {\n      // The categories to use for specific diagnostics.\n      \"checks\": {\n        // Maps check name to its category.\n        \"invalidBananaInBox\": \"suppress\"\n      },\n\n      // The category to use for any diagnostics not listed in `checks` above.\n      \"defaultCategory\": \"error\"\n    }\n  }\n}\n\n</code-example>\n<p translation-result=\"on\"><code>checks</code> 欄位將單個診斷的名稱對映到它們的關聯類別。有關擴充診斷的完整列表以及用於配置它們的名稱，請參閱<a href=\"extended-diagnostics#diagnostics\">診斷</a>。</p><p translation-origin=\"off\">The <code>checks</code> field maps the name of individual diagnostics to their associated category.\nSee <a href=\"extended-diagnostics#diagnostics\">Diagnostics</a> for a complete list of extended diagnostics and the name to use for configuring them.</p>\n\n<p translation-result=\"on\"><code>defaultCategory</code> 欄位用於 <code>checks</code> 下未顯式列出的任何診斷。如果未設定，則此類診斷將被視為 <code>warning</code>。</p><p translation-origin=\"off\">The <code>defaultCategory</code> field is used for any diagnostics that are not explicitly listed under <code>checks</code>.\nIf not set, such diagnostics will be treated as <code>warning</code>.</p>\n\n<p translation-result=\"on\">啟用 <a href=\"guide/template-typecheck#strict-mode\"><code>strictTemplates</code></a> 時，將發出擴充診斷。這是為了讓編譯器更好地瞭解 Angular 範本型別並提供準確和有意義的診斷。</p><p translation-origin=\"off\">Extended diagnostics will emit when <a href=\"guide/template-typecheck#strict-mode\"><code>strictTemplates</code></a> is enabled.\nThis is required to allow the compiler to better understand Angular template types and provide accurate and meaningful diagnostics.</p>\n\n<h2 id=\"semantic-versioning\" translation-result=\"on\">語義化版本控制<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#semantic-versioning\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Semantic Versioning<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#semantic-versioning\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">Angular 團隊打算在 Angular 的<strong>次要</strong>版本中新增或啟用新的擴充診斷（請參閱<a href=\"https://docs.npmjs.com/about-semantic-versioning\">semver</a>）。這意味著升級 Angular 可能會在你現有的程式碼庫中顯示新的警告。這使團隊能夠更快地交付特性，並讓開發人員更容易存取擴充診斷。</p><p translation-origin=\"off\">The Angular team intends to add or enable new extended diagnostics in <strong>minor</strong> versions of Angular (see <a href=\"https://docs.npmjs.com/about-semantic-versioning\">semver</a>).\nThis means that upgrading Angular may show new warnings in your existing codebase.\nThis enables the team to deliver features more quickly and to make extended diagnostics more accessible to developers.</p>\n\n<p translation-result=\"on\">但是，設定 <code>\"defaultCategory\": \"error\"</code> 會將此類警告升級為硬錯誤。這可能會導致次要版本升級引入編譯錯誤，這可能被視為不符合 semver 的重大更改。任何新診斷都可以透過上述<a href=\"extended-diagnostics#configuration\">配置</a>被抑制或降級為警告，因此新診斷的影響對於預設將擴充診斷視為錯誤的專案應該是最小的。預設為錯誤是一個非常強大的工具；在確定 <code>error</code> 是否是你專案的正確預設值時，請注意這個 semver 警告。</p><p translation-origin=\"off\">However, setting <code>\"defaultCategory\": \"error\"</code> will promote such warnings to hard errors.\nThis can cause a minor version upgrade to introduce compilation errors, which may be seen as a semver non-compliant breaking change.\nAny new diagnostics can be suppressed or demoted to warnings via the above <a href=\"extended-diagnostics#configuration\">configuration</a>, so the impact of a new diagnostic should be minimal to\nprojects that treat extended diagnostics as errors by default.\nDefaulting to error is a very powerful tool; just be aware of this semver caveat when deciding if <code>error</code> is the right default for your project.</p>\n\n<h2 id=\"new-diagnostics\" translation-result=\"on\">新的診斷<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#new-diagnostics\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">New Diagnostics<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#new-diagnostics\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">Angular 團隊始終樂於接受有關可以新增的新診斷器的建議。擴充診斷通常應該：</p><p translation-origin=\"off\">The Angular team is always open to suggestions about new diagnostics that could be added.\nExtended diagnostics should generally:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">使用 Angular 範本檢測常見的、不夠明顯的開發人員失誤</p><p translation-origin=\"off\">Detect a common, non-obvious developer mistake with Angular templates</p>\n\n</li>\n<li>\n<p translation-result=\"on\">清楚地闡明為什麼這種模式會導致錯誤或意外行為</p><p translation-origin=\"off\">Clearly articulate why this pattern can lead to bugs or unintended behavior</p>\n\n</li>\n<li>\n<p translation-result=\"on\">建議一個或多個明確的解決方案</p><p translation-origin=\"off\">Suggest one or more clear solutions</p>\n\n</li>\n<li>\n<p translation-result=\"on\">假陽性率低（最好是零）</p><p translation-origin=\"off\">Have a low, preferably zero, false-positive rate</p>\n\n</li>\n<li>\n<p translation-result=\"on\">適用於絕大多數 Angular 應用程式（不專屬於非官方庫）</p><p translation-origin=\"off\">Apply to the vast majority of Angular applications (not specific to an unofficial library)</p>\n\n</li>\n<li>\n<p translation-result=\"on\">提高程式的正確性或效能（而不是風格，風格由 linter 負責）</p><p translation-origin=\"off\">Improve program correctness or performance (not style, that responsibility falls to a linter)</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">如果你對符合這些標準的編譯器檢查有一個想法，請考慮提交<a href=\"https://github.com/angular/angular/issues/new?template=2-feature-request.yaml\">特性請求</a>。</p><p translation-origin=\"off\">If you have an idea for a compiler check which fits these criteria, consider filing a <a href=\"https://github.com/angular/angular/issues/new?template=2-feature-request.yaml\">feature request</a>.</p>\n\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最後複查時間：2/28/2022</div>\n</div>\n\n\n<!-- links to this doc:\n - extended-diagnostics/NG8101\n - extended-diagnostics/NG8102\n - extended-diagnostics/NG8104\n - extended-diagnostics/NG8106\n - extended-diagnostics/NG8107\n - extended-diagnostics/NG8108\n-->\n<!-- links from this doc:\n - extended-diagnostics#configuration\n - extended-diagnostics#diagnostics\n - extended-diagnostics#extended-diagnostics\n - extended-diagnostics#new-diagnostics\n - extended-diagnostics#semantic-versioning\n - extended-diagnostics#擴充診斷\n - extended-diagnostics#新的診斷\n - extended-diagnostics#診斷\n - extended-diagnostics#語義化版本控制\n - extended-diagnostics#配置\n - extended-diagnostics/NG8101\n - extended-diagnostics/NG8102\n - extended-diagnostics/NG8103\n - extended-diagnostics/NG8104\n - extended-diagnostics/NG8105\n - extended-diagnostics/NG8106\n - extended-diagnostics/NG8107\n - guide/template-typecheck#strict-mode\n - https://docs.npmjs.com/about-semantic-versioning\n - https://github.com/angular/angular/issues/new?template=2-feature-request.yaml\n - https://github.com/ng-docs/angular-cn/edit/cn/aio/content/extended-diagnostics/index.md?message=docs%3A%20請簡述你的修改...\n-->"}