(self.webpackChunkangular_cn=self.webpackChunkangular_cn||[]).push([["src_app_custom-elements_resource_resource-list_module_ts"],{7769:function(e,t,r){"use strict";r.r(t),r.d(t,{ResourceListModule:function(){return v}});var o=r(1116),s=r(5366),i=r(9996),n=r(7296),c=r(1374),u=r(2693);const a=c.bL+"resources.json";let l=(()=>{class e{constructor(e){this.http=e,this.categories=this.getCategories()}getCategories(){const e=this.http.get(a).pipe((0,i.U)(e=>{return t=e,Object.keys(t).map(e=>{const r=t[e];return{id:h(e),title:e,order:r.order,subCategories:g(r.subCategories,e)}}).sort(d);var t}),(0,n.C)());return e.connect(),e}}return e.ɵfac=function(t){return new(t||e)(s.LFG(u.eN))},e.ɵprov=s.Yz7({token:e,factory:e.ɵfac}),e})();function g(e,t){return Object.keys(e).map(r=>{const o=e[r];return{id:h(r),title:r,order:o.order,resources:p(o.resources,r,t)}}).sort(d)}function p(e,t,r){return Object.keys(e).map(o=>{const s=e[o];return s.category=r,s.subCategory=t,s.id=h(o),s}).sort(f)}function d(e,t){return e.order===t.order?f(e,t):e.order>t.order?1:-1}function f(e,t){return e.title.toUpperCase()>t.title.toUpperCase()?1:-1}function h(e){return e.toLowerCase().replace(/\s+/g,"-")}var C=r(2981);function Z(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"a",5),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().selectCategory(t.id)})("keyup.enter",function(){const t=s.CHM(e).$implicit;return s.oxw().selectCategory(t.id)}),s._uU(1),s.qZA()}if(2&e){const e=t.$implicit,r=s.oxw();s.ekj("selected",e.id==r.selectedCategory.id),s.xp6(1),s.Oqu(e.title)}}function y(e,t){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"div",8),s.TgZ(2,"a",9),s.TgZ(3,"h4",10),s._uU(4),s.qZA(),s.TgZ(5,"h4",11),s._uU(6),s.qZA(),s.TgZ(7,"p",12),s._uU(8),s.qZA(),s.TgZ(9,"p",13),s._uU(10),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(2),s.Q6J("href",e.url,s.LSH),s.xp6(2),s.Oqu(e.titleCn||e.title),s.xp6(2),s.Oqu(e.title),s.xp6(2),s.Oqu(e.descCn||e.desc||"無描述"),s.xp6(2),s.Oqu(e.desc||"No Description")}}function m(e,t){if(1&e&&(s.TgZ(0,"div"),s._UZ(1,"a",6),s.TgZ(2,"h3",7),s._uU(3),s.qZA(),s.YNc(4,y,11,5,"div",4),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.s9C("id",e.id),s.xp6(2),s.Oqu(e.title),s.xp6(1),s.Q6J("ngForOf",e.resources)}}let b=(()=>{class e{constructor(e,t){this.resourceService=e,this.locationService=t}ngOnInit(){const e=this.locationService.search().category||"";this.resourceService.categories.subscribe(t=>{this.categories=t,this.selectCategory(e)})}selectCategory(e){e=e.toLowerCase(),this.selectedCategory=this.categories.find(t=>t.id.toLowerCase()===e)||this.categories[0],this.locationService.setSearch("",{category:this.selectedCategory.id})}}return e.ɵfac=function(t){return new(t||e)(s.Y36(l),s.Y36(C.a))},e.ɵcmp=s.Xpm({type:e,selectors:[["aio-resource-list"]],decls:5,vars:2,consts:[[1,"center-layout"],[1,"flex-center","group-buttons"],["class","button mat-button filter-button",3,"selected","click","keyup.enter",4,"ngFor","ngForOf"],[1,"showcase"],[4,"ngFor","ngForOf"],[1,"button","mat-button","filter-button",3,"click","keyup.enter"],[3,"id"],[1,"subcategory-title"],[1,"resource-item"],["rel","noopener","target","_blank",1,"resource-row-link",3,"href"],["translation-result","on"],["translation-origin","off"],["translation-result","on",1,"resource-description"],["translation-origin","off",1,"resource-description"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,Z,2,3,"a",2),s.qZA(),s.TgZ(3,"div",3),s.YNc(4,m,5,3,"div",4),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngForOf",t.categories),s.xp6(2),s.Q6J("ngForOf",null==t.selectedCategory?null:t.selectedCategory.subCategories))},directives:[o.sg],encapsulation:2}),e})(),v=(()=>{class e{constructor(){this.customElementComponent=b}}return e.ɵfac=function(t){return new(t||e)},e.ɵmod=s.oAB({type:e}),e.ɵinj=s.cJS({providers:[l],imports:[[o.ez]]}),e})()}}]);
//# sourceMappingURL=src_app_custom-elements_resource_resource-list_module_ts-es2015.6dfdb8adbb851400a5ca.js.map
